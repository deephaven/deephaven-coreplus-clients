/*
 * Copyright (c) 2016-2019 Deephaven Data Labs and Patent Pending
 */

syntax = "proto3";

package io.deephaven.proto.registry;

import "deephaven_enterprise/proto/common.proto";
import "google/protobuf/wrappers.proto";

option java_multiple_files = true;
option optimize_for = SPEED;

/*
 * Support messages for registry_service implementation of ServiceRegistry
 */

message UpdateWorkersRequest {
    string id = 1;
    repeated WorkerInfo workers = 2;
}

message UpdateWorkersResponse {
}

enum WorkerKind {
    // The zero valued item is the default for a field of an enum type when not set;
    // we want to ensure they are always set and plan to treat this default as an error.
    WK_UNSPECIFIED = 0;
    WK_ENTERPRISE = 1;
    WK_DND = 2;
}

message WorkerInfo {
    string host = 1;
    int32 port = 2;
    int64 nonce = 3;
    WorkerKind workerKind = 4;
}

